<div class="text-center">
    <h4><i class="fa fa-key fa-fw"></i> Room <b style="font-size: 2em;">{{ pollroom.identifier }}</b></h4>

    <span *ngIf="pollroom.creator === user">
        <a *ngIf="pollroom.status === 'open'" (click)="patchRoom('closed')" class="btn btn-danger pollroom-status"
            (mouseover)="displayCloseRoomInfo = true" (mouseout)="displayCloseRoomInfo = false">
            <i class="fa fa-lock fa-fw"></i> Close the room
        </a>
        <button *ngIf="pollroom.status === 'closed'" class="btn bdtn-default pollroom-status" disabled
           (mouseover)="displayCloseRoomInfo = true" (mouseout)="displayCloseRoomInfo = false">
            <i class="fa fa-unlock fa-fw"></i> Closed
        </button>
        <p *ngIf="displayCloseRoomInfo" class="small" style="margin-top: 10px;">When room is closed, all results are displayed.<br>Room can't be reopened.</p>
    </span>
    <hr class="small">
</div>

<div class="row">
    <div class="col-xs-4 room-stats">
        <h4>{{ pollroom.nb_participants }} <i class="fa fa-child fa-fw"></i> participant{{ pollroom.nb_participants > 1 ? 's' : '' }} </h4>
    </div>

    <div class="col-xs-4 room-stats">
        <h4>{{ pollroom.questions.length }} <i class="fa fa-question-circle fa-fw"></i> question{{ pollroom.questions.length > 1 ? 's' : '' }}</h4>
    </div>

    <div class="col-xs-4 room-stats">
        <h4>{{ totalAllUsersAnswer }} <i class="fa fa-lightbulb-o fa-fw"></i> answer{{ totalAllUsersAnswer > 1 ? 's' : '' }}</h4>
    </div>
</div>


<hr class="small">

<h5 class="text-center">Completion</h5>
<div class="progress">
    <div class="progress-bar progress-bar-success" role="progressbar"
         [attr.aria-valuenow]="nbAnswers / nbTotalAnswers * 100"
         aria-valuemin="0"
         aria-valuemax="100"
         [ngStyle]="{'width': (nbAnswers < nbTotalAnswers ? nbAnswers : nbTotalAnswers) / nbTotalAnswers * 100 + '%'}">
        {{nbAnswers / nbTotalAnswers * 100 | number:'.0-0' }}%
    </div>
</div>